---
title: Focus
description: API reference for the focus system
---

import { TypeTable } from 'fumadocs-ui/components/type-table';
import { Callout } from 'fumadocs-ui/components/callout';
import { Terminal } from '@/components/terminal';
import NavigableMenuExample from '@/components/examples/focus/navigable-menu';
import ControlledFocusExample from '@/components/examples/focus/controlled-focus';
import HorizontalTabsExample from '@/components/examples/focus/horizontal-tabs';

The focus system provides components and hooks for managing keyboard navigation.

Giggles maintains a focus tree â€” each call to `useFocus` registers a node, and `FocusGroup` organizes them into navigable groups. Only one node is focused at a time, and the path from that node to the root forms the active branch. The input system uses this active branch to determine which components receive key events.

Components read their focus state through the `FocusHandle` returned by `useFocus`. For grouped navigation, wrap children in a `FocusGroup` to enable arrow-key or j/k movement between siblings. Focus can also be controlled declaratively with the `value` prop.

```tsx title="Basic Usage"
import { FocusGroup, useFocus, useFocusState } from 'giggles';

function Menu() {
  return (
    <FocusGroup direction="vertical">
      <MenuItem label="Option 1" />
      <MenuItem label="Option 2" />
      <MenuItem label="Option 3" />
    </FocusGroup>
  );
}

function MenuItem({ label }) {
  const focus = useFocus();
  return <Text color={focus.focused ? 'green' : 'white'}>{label}</Text>;
}
```

## API Reference

### useFocus()

Returns focus state and methods for a component.

```ts title="Type Signature"
function useFocus(id?: string): FocusHandle

type FocusHandle = {
  id: string;
  focused: boolean;
  focus: () => void;
}
```

**Parameters:**

<TypeTable
  type={{
    id: {
      description: 'Optional logical ID for declarative focus control via FocusGroup value prop',
      type: 'string',
    },
  }}
/>

**Returns:** `FocusHandle`

<TypeTable
  type={{
    id: {
      description: 'Unique identifier for this focus node',
      type: 'string',
      required: true,
    },
    focused: {
      description: 'Whether this component is currently focused',
      type: 'boolean',
      required: true,
    },
    focus: {
      description: 'Programmatically focus this component',
      type: '() => void',
      required: true,
    },
  }}
/>

The `FocusHandle` type can be imported and used for typing component props:

```tsx
import type { FocusHandle } from 'giggles';

function MyComponent({ focus }: { focus: FocusHandle }) {
  return <Text color={focus.focused ? 'green' : 'white'}>Item</Text>;
}
```

### FocusGroup

Creates a navigable group of focusable children.

<TypeTable
  type={{
    direction: {
      description: 'Navigation direction. Vertical uses j/k and up/down, horizontal uses h/l and left/right. Tab and shift+tab move forward and backward regardless of direction.',
      type: "'vertical' | 'horizontal'",
      default: "'vertical'",
    },
    wrap: {
      description: 'Whether navigation wraps from last to first item',
      type: 'boolean',
      default: 'true',
    },
    navigable: {
      description: 'Whether arrow keys navigate children',
      type: 'boolean',
      default: 'true',
    },
    value: {
      description: 'Controlled focus - ID of child that should be focused',
      type: 'string',
    },
    keybindings: {
      description: 'Custom keybindings registered on this group node',
      type: 'Keybindings',
    },
    children: {
      description: 'Focusable child components',
      type: 'React.ReactNode',
      required: true,
    },
  }}
/>

### useFocusState()

Returns a state tuple for controlling focus declaratively.

```ts title="Type Signature"
function useFocusState<T extends string>(initial: T): [T, (value: T) => void]
```

<TypeTable
  type={{
    initial: {
      description: 'Initial focused value',
      type: 'T extends string',
      required: true,
    },
  }}
/>

**Returns:** A tuple `[currentValue, setValue]` similar to `useState`.

## Examples

### Navigable menu

```tsx title="Vertical Menu"
import { FocusGroup, useFocus } from 'giggles';
import { Box, Text } from 'ink';

function Menu() {
  return (
    <FocusGroup direction="vertical">
      <MenuItem label="New File" />
      <MenuItem label="Open File" />
      <MenuItem label="Save" />
    </FocusGroup>
  );
}

function MenuItem({ label }: { label: string }) {
  const focus = useFocus();
  return (
    <Text color={focus.focused ? 'green' : 'white'}>
      {focus.focused ? '> ' : '  '}{label}
    </Text>
  );
}
```

<Terminal>
  <NavigableMenuExample />
</Terminal>

### Controlled focus

Use the `value` prop on `FocusGroup` with the `id` parameter on `useFocus` to control focus declaratively. Pass custom `keybindings` to the group to advance focus programmatically:

```tsx title="Controlled Form"
import { FocusGroup, useFocus } from 'giggles';
import { useState } from 'react';
import { Text } from 'ink';

function Form() {
  const [field, setField] = useState('name');

  const advance = () => {
    setField((f) => {
      if (f === 'name') return 'email';
      if (f === 'email') return 'submit';
      return 'name';
    });
  };

  return (
    <FocusGroup value={field} navigable={false} keybindings={{ tab: advance }}>
      <TextInput id="name" label="Name" />
      <TextInput id="email" label="Email" />
      <Button id="submit" label="Submit" />
    </FocusGroup>
  );
}

function TextInput({ id, label }: { id: string; label: string }) {
  const focus = useFocus(id);
  return <Text color={focus.focused ? 'green' : 'white'}>{label}</Text>;
}
```

<Terminal>
  <ControlledFocusExample />
</Terminal>

<Callout type="warn">
  Each child within a FocusGroup must have a unique id. Duplicate IDs will throw a `GigglesError`.
</Callout>

### Horizontal tabs

```tsx title="Tab Bar"
import { FocusGroup, useFocus } from 'giggles';
import { Box, Text } from 'ink';

function TabBar() {
  return (
    <FocusGroup direction="horizontal">
      <Tab label="General" />
      <Tab label="Keybindings" />
      <Tab label="Appearance" />
    </FocusGroup>
  );
}

function Tab({ label }: { label: string }) {
  const focus = useFocus();
  return (
    <Box paddingX={1}>
      <Text bold={focus.focused} underline={focus.focused}>{label}</Text>
    </Box>
  );
}
```

<Terminal>
  <HorizontalTabsExample />
</Terminal>
