---
title: Focus
description: API reference for the focus system
---

import { TypeTable } from 'fumadocs-ui/components/type-table';
import { Callout } from 'fumadocs-ui/components/callout';

The focus system provides components and hooks for managing keyboard navigation.

```tsx title="Basic Usage"
import { FocusGroup, useFocus, useFocusState } from 'giggles';

function Menu() {
  return (
    <FocusGroup direction="vertical">
      <MenuItem label="Option 1" />
      <MenuItem label="Option 2" />
      <MenuItem label="Option 3" />
    </FocusGroup>
  );
}

function MenuItem({ label }) {
  const focus = useFocus();
  return <Text color={focus.focused ? 'green' : 'white'}>{label}</Text>;
}
```

## API Reference

### useFocus()

Returns focus state and methods for a component.

```ts title="Type Signature"
function useFocus(id?: string): {
  id: string;
  focused: boolean;
  focus: () => void;
}
```

**Parameters:**

<TypeTable
  type={{
    id: {
      description: 'Optional logical ID for declarative focus control via FocusGroup value prop',
      type: 'string',
    },
  }}
/>

**Returns:**

<TypeTable
  type={{
    id: {
      description: 'Unique identifier for this focus node (internal React ID)',
      type: 'string',
    },
    focused: {
      description: 'Whether this component is currently focused',
      type: 'boolean',
    },
    focus: {
      description: 'Programmatically focus this component',
      type: '() => void',
    },
  }}
/>

### FocusGroup

Creates a navigable group of focusable children.

<TypeTable
  type={{
    direction: {
      description: 'Navigation direction (j/k for vertical, h/l for horizontal)',
      type: "'vertical' | 'horizontal'",
      default: "'vertical'",
    },
    wrap: {
      description: 'Whether navigation wraps from last to first item',
      type: 'boolean',
      default: 'true',
    },
    navigable: {
      description: 'Whether arrow keys navigate children',
      type: 'boolean',
      default: 'true',
    },
    value: {
      description: 'Controlled focus - ID of child that should be focused',
      type: 'string',
    },
    children: {
      description: 'Focusable child components',
      type: 'React.ReactNode',
    },
  }}
/>

## Controlled Focus

Use the `value` prop on `FocusGroup` with the `id` parameter on `useFocus` to control focus declaratively:

```tsx title="Controlled Focus Example"
function Form() {
  const [field, setField] = useState('name');

  const handleNext = () => {
    if (field === 'name') setField('email');
    else if (field === 'email') setField('submit');
  };

  return (
    <FocusGroup value={field}>
      <TextInput id="name" label="Name" />
      <TextInput id="email" label="Email" />
      <Button id="submit" label="Submit" />
    </FocusGroup>
  );
}

function TextInput({ id, label }) {
  const focus = useFocus(id);
  return <Text color={focus.focused ? 'green' : 'white'}>{label}</Text>;
}
```

<Callout type="warn">
  Each child within a FocusGroup must have a unique id. Duplicate IDs will throw an error.
</Callout>

### useFocusState()

Returns a state tuple for controlling focus declaratively.

```ts title="Type Signature"
function useFocusState<T extends string>(initial: T): [T, (value: T) => void]
```

<TypeTable
  type={{
    initial: {
      description: 'Initial focused value',
      type: 'T extends string',
    },
  }}
/>

**Returns:** A tuple `[currentValue, setValue]` similar to `useState`.
