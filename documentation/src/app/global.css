@import 'tailwindcss';
@import 'fumadocs-ui/css/preset.css';

/* ============================================
   giggles — mondrian theme
   primary blocks: red, blue, yellow
   grid lines: bold black borders
   ============================================ */

/* ---------- Light mode ---------- */
/* "Oil on canvas" — pigment saturation, not LCD saturation.
   Warm cream ground, espresso lines, cobalt/cadmium/ochre accents. */
:root {
  --color-fd-info: hsl(215, 62%, 46%);
  --color-fd-warning: hsl(40, 72%, 50%);
  --color-fd-error: hsl(4, 68%, 48%);
  --color-fd-success: hsl(145, 52%, 42%);
  --color-fd-idea: hsl(35, 72%, 52%);
}

@theme {
  --color-fd-background: hsl(40, 33%, 93%);
  --color-fd-foreground: hsl(30, 10%, 24%);
  --color-fd-muted: hsl(40, 25%, 89%);
  --color-fd-muted-foreground: hsl(30, 6%, 48%);
  --color-fd-popover: hsl(40, 30%, 92%);
  --color-fd-popover-foreground: hsl(30, 8%, 26%);
  --color-fd-card: hsl(40, 26%, 90.5%);
  --color-fd-card-foreground: hsl(30, 10%, 24%);
  --color-fd-border: hsl(30, 8%, 52%);
  --color-fd-primary: hsl(215, 62%, 46%);
  --color-fd-primary-foreground: hsl(40, 33%, 96%);
  --color-fd-secondary: hsl(40, 24%, 88.5%);
  --color-fd-secondary-foreground: hsl(30, 8%, 28%);
  --color-fd-accent: hsla(215, 58%, 46%, 0.08);
  --color-fd-accent-foreground: hsl(215, 55%, 42%);
  --color-fd-ring: hsl(215, 62%, 46%);
  --color-fd-overlay: hsla(30, 12%, 12%, 0.16);

  /* mondrian palette — pigment, not neon */
  --color-mondrian-red: hsl(4, 68%, 48%);
  --color-mondrian-blue: hsl(215, 62%, 46%);
  --color-mondrian-yellow: hsl(46, 82%, 54%);
  --color-mondrian-black: hsl(30, 10%, 32%);

  /* semantic */
  --color-fd-info: oklch(44.5% 0.165 260);
  --color-fd-warning: oklch(76.9% 0.158 70.08);
  --color-fd-error: oklch(63.7% 0.2 25.331);
  --color-fd-success: oklch(72.3% 0.185 149.579);
  --color-fd-idea: oklch(70.5% 0.176 60.849);
  --color-fd-diff-remove: rgba(180, 30, 80, 0.1);
  --color-fd-diff-remove-symbol: rgb(190, 30, 80);
  --color-fd-diff-add: rgba(20, 160, 90, 0.08);
  --color-fd-diff-add-symbol: rgb(20, 170, 90);
}

/* ---------- Dark mode ---------- */
/* Gallery at night — warm deep surfaces, paint catching lamplight. */
.dark {
  --color-fd-background: hsl(30, 5%, 6%);
  --color-fd-foreground: hsl(40, 16%, 88%);
  --color-fd-muted: hsl(30, 4%, 11%);
  --color-fd-muted-foreground: hsl(40, 8%, 62%);
  --color-fd-popover: hsl(30, 5%, 9%);
  --color-fd-popover-foreground: hsl(40, 12%, 82%);
  --color-fd-card: hsl(30, 2%, 9%);
  --color-fd-card-foreground: hsl(40, 16%, 92%);
  --color-fd-border: hsl(35, 8%, 24%);
  --color-fd-primary: hsl(215, 58%, 58%);
  --color-fd-primary-foreground: hsl(40, 20%, 96%);
  --color-fd-secondary: hsl(30, 4%, 13%);
  --color-fd-secondary-foreground: hsl(40, 12%, 85%);
  --color-fd-accent: hsla(215, 55%, 58%, 0.1);
  --color-fd-accent-foreground: hsl(215, 55%, 64%);
  --color-fd-ring: hsl(215, 58%, 58%);
  --color-fd-overlay: hsla(20, 8%, 3%, 0.5);

  /* mondrian palette — lamplight, not neon */
  --color-mondrian-red: hsl(4, 65%, 56%);
  --color-mondrian-blue: hsl(215, 58%, 58%);
  --color-mondrian-yellow: hsl(46, 78%, 60%);
  --color-mondrian-black: hsl(35, 8%, 24%);
}

/* ============================================
   Typography — Geist Mono everywhere
   ============================================ */

/* Ensure code blocks inherit the monospace font */
pre code,
code {
  font-family: inherit !important;
}

/* Scale down to compensate for monospace's wider character width */
html {
  font-size: 14px;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 700;
}

/* ============================================
   Decorative touches
   ============================================ */

/* --- Sidebar title font --- */
aside a[href='/'] {
  font-family: var(--font-barriecito), cursive;
  font-size: 2rem;
}

/* --- Blinking cursor on nav title --- */
aside a[href='/']::after {
  content: '█';
  animation: blink 1s step-end infinite;
  margin-left: 2px;
  color: var(--color-mondrian-red);
  font-weight: 400;
}

@keyframes blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

/* --- Links: blue with red hover (Mondrian primary shift) --- */
.prose a,
[class*='DocsBody'] a {
  text-decoration-color: var(--color-mondrian-blue);
  text-underline-offset: 3px;
  text-decoration-thickness: 2px;
  transition: text-decoration-color 0.2s;
}

.prose a:hover,
[class*='DocsBody'] a:hover {
  text-decoration-color: var(--color-mondrian-red);
}

/* --- Custom scrollbar (Webkit) --- */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--color-fd-border);
  border-radius: 0;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-mondrian-blue);
}

/* --- Selection color: yellow block --- */
::selection {
  background: var(--color-mondrian-yellow);
  color: var(--color-fd-foreground);
}

.dark ::selection,
.dark::selection {
  background: hsl(215, 85%, 40%);
  color: hsl(0, 0%, 100%);
}

/* --- Focus rings use blue --- */
*:focus-visible {
  outline-color: var(--color-mondrian-blue);
}

/* ============================================
   Mondrian color block accents
   ============================================ */

/* --- 1. Navbar color strip --- */
/* A thin band of red|blue|yellow blocks across the bottom of the navbar */
nav {
  position: relative;
  border-bottom: 2px solid var(--color-mondrian-black) !important;
}

nav::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(
    to right,
    var(--color-mondrian-red) 0%,
    var(--color-mondrian-red) 25%,
    var(--color-mondrian-black) 25%,
    var(--color-mondrian-black) 25.5%,
    var(--color-mondrian-blue) 25.5%,
    var(--color-mondrian-blue) 55%,
    var(--color-mondrian-black) 55%,
    var(--color-mondrian-black) 55.5%,
    var(--color-mondrian-yellow) 55.5%,
    var(--color-mondrian-yellow) 80%,
    var(--color-mondrian-black) 80%,
    var(--color-mondrian-black) 80.5%,
    var(--color-mondrian-red) 80.5%,
    var(--color-mondrian-red) 100%
  );
}

/* --- 2. Sidebar section dividers — color block strips --- */
/* Color blocks between sidebar folder sections */
aside [data-type='folder'] + [data-type='folder']::before,
aside [data-type='folder'] + [data-type='page']::before {
  content: '';
  display: block;
  height: 3px;
  margin: 8px 0;
  background: linear-gradient(
    to right,
    var(--color-mondrian-yellow) 0%,
    var(--color-mondrian-yellow) 40%,
    var(--color-mondrian-black) 40%,
    var(--color-mondrian-black) 40.8%,
    var(--color-mondrian-blue) 40.8%,
    var(--color-mondrian-blue) 70%,
    var(--color-mondrian-black) 70%,
    var(--color-mondrian-black) 70.8%,
    var(--color-mondrian-red) 70.8%,
    var(--color-mondrian-red) 100%
  );
}

/* --- 3. Page title — colored square marker --- */
/* A small rotating-color block before h1 titles */
[class*='DocsTitle'] h1::before,
article > h1:first-of-type::before {
  content: '■';
  margin-right: 0.5em;
  font-size: 0.7em;
  vertical-align: middle;
  color: var(--color-mondrian-red);
}

/* Rotate colors for h2s and h3s */
article h2::before {
  content: '■';
  margin-right: 0.5em;
  font-size: 0.55em;
  vertical-align: middle;
  color: var(--color-mondrian-blue);
}

article h3::before {
  content: '■';
  margin-right: 1em;
  font-size: 0.45em;
  vertical-align: middle;
  color: var(--color-mondrian-yellow);
}

/* --- 5. Footer — Mondrian grid band --- */
/* A decorative composition at the bottom of the page */
body::after {
  content: '';
  display: block;
  width: 100%;
  height: 5px;
  margin-top: auto;
  background: linear-gradient(
    to right,
    var(--color-mondrian-blue) 0%,
    var(--color-mondrian-blue) 20%,
    var(--color-mondrian-black) 20%,
    var(--color-mondrian-black) 20.5%,
    var(--color-mondrian-red) 20.5%,
    var(--color-mondrian-red) 55%,
    var(--color-mondrian-black) 55%,
    var(--color-mondrian-black) 55.5%,
    var(--color-mondrian-yellow) 55.5%,
    var(--color-mondrian-yellow) 75%,
    var(--color-mondrian-black) 75%,
    var(--color-mondrian-black) 75.5%,
    var(--color-mondrian-blue) 75.5%,
    var(--color-mondrian-blue) 100%
  );
}

/* --- 6. TOC active indicator --- */
/* Uses fd-primary (Mondrian blue) by default — already on-theme. */

/* --- Override fumadocs oklab color-mix for cross-platform consistency --- */
.bg-fd-popover\/60 {
  background-color: color-mix(in srgb, var(--color-fd-popover) 60%, transparent);
}
